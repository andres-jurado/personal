program usstates , rclass
syntax varlist(min=1 max=1) , newvar(string) type(string) 
	
	if "`type'" != "full" & "`type'" != "abbv"{
		di "Please provide a valid option for type (full or abbv)"
		exit
	}
	
	token `varlist'
	local var `1'
	
	gen `newvar' = ""

	if "`type'" == "full" {
		replace `newvar' = "AK" if `var' == "Alaska"
		replace `newvar' = "AL" if `var' == "Alabama"
		replace `newvar' = "AR" if `var' == "Arkansas"
		replace `newvar' = "AZ" if `var' == "Arizona"
		replace `newvar' = "CA" if `var' == "California"
		replace `newvar' = "CO" if `var' == "Colorado"
		replace `newvar' = "CT" if `var' == "Connecticut"
		replace `newvar' = "DC" if `var' == "DC"
		replace `newvar' = "DE" if `var' == "Delaware"
		replace `newvar' = "FL" if `var' == "Florida"
		replace `newvar' = "GA" if `var' == "Georgia"
		replace `newvar' = "HI" if `var' == "Hawaii"
		replace `newvar' = "IA" if `var' == "Iowa"
		replace `newvar' = "ID" if `var' == "Idaho"
		replace `newvar' = "IL" if `var' == "Illinois"
		replace `newvar' = "IN" if `var' == "Indiana"
		replace `newvar' = "KS" if `var' == "Kansas"
		replace `newvar' = "KY" if `var' == "Kentucky"
		replace `newvar' = "LA" if `var' == "Louisiana"
		replace `newvar' = "MA" if `var' == "Massachusetts"
		replace `newvar' = "MD" if `var' == "Maryland"
		replace `newvar' = "ME" if `var' == "Maine"
		replace `newvar' = "MI" if `var' == "Michigan"
		replace `newvar' = "MN" if `var' == "Minnesota"
		replace `newvar' = "MO" if `var' == "Missouri"
		replace `newvar' = "MS" if `var' == "Mississippi"
		replace `newvar' = "MT" if `var' == "Montana"
		replace `newvar' = "NC" if `var' == "North Carolina"
		replace `newvar' = "ND" if `var' == "North Dakota"
		replace `newvar' = "NE" if `var' == "Nebraska"
		replace `newvar' = "NH" if `var' == "New Hampshire"
		replace `newvar' = "NJ" if `var' == "New Jersey"
		replace `newvar' = "NM" if `var' == "New Mexico"
		replace `newvar' = "NV" if `var' == "Nevada"
		replace `newvar' = "NY" if `var' == "New York"
		replace `newvar' = "OH" if `var' == "Ohio"
		replace `newvar' = "OK" if `var' == "Oklahoma"
		replace `newvar' = "OR" if `var' == "Oregon"
		replace `newvar' = "PA" if `var' == "Pennsylvania"
		replace `newvar' = "RI" if `var' == "Rhode Island"
		replace `newvar' = "SC" if `var' == "South Carolina"
		replace `newvar' = "SD" if `var' == "South Dakota"
		replace `newvar' = "TN" if `var' == "Tennessee"
		replace `newvar' = "TX" if `var' == "Texas"
		replace `newvar' = "UT" if `var' == "Utah"
		replace `newvar' = "VA" if `var' == "Virginia"
		replace `newvar' = "VT" if `var' == "Vermont"
		replace `newvar' = "WA" if `var' == "Washington"
		replace `newvar' = "WI" if `var' == "Wisconsin"
		replace `newvar' = "WV" if `var' == "West Virginia"
		replace `newvar' = "WY" if `var' == "Wyoming"
	}

	if "`type'" == "abbv"{
		replace `newvar' = "Alaska" if `var' == "AK"
		replace `newvar' = "Alabama" if `var' == "AL"
		replace `newvar' = "Arkansas" if `var' == "AR"
		replace `newvar' = "Arizona" if `var' == "AZ"
		replace `newvar' = "California" if `var' == "CA"
		replace `newvar' = "Colorado" if `var' == "CO"
		replace `newvar' = "Connecticut" if `var' == "CT"
		replace `newvar' = "DC" if `var' == "DC"
		replace `newvar' = "Delaware" if `var' == "DE"
		replace `newvar' = "Florida" if `var' == "FL"
		replace `newvar' = "Georgia" if `var' == "GA"
		replace `newvar' = "Hawaii" if `var' == "HI"
		replace `newvar' = "Iowa" if `var' == "IA"
		replace `newvar' = "Idaho" if `var' == "ID"
		replace `newvar' = "Illinois" if `var' == "IL"
		replace `newvar' = "Indiana" if `var' == "IN"
		replace `newvar' = "Kansas" if `var' == "KS"
		replace `newvar' = "Kentucky" if `var' == "KY"
		replace `newvar' = "Louisiana" if `var' == "LA"
		replace `newvar' = "Massachusetts" if `var' == "MA"
		replace `newvar' = "Maryland" if `var' == "MD"
		replace `newvar' = "Maine" if `var' == "ME"
		replace `newvar' = "Michigan" if `var' == "MI"
		replace `newvar' = "Minnesota" if `var' == "MN"
		replace `newvar' = "Missouri" if `var' == "MO"
		replace `newvar' = "Mississippi" if `var' == "MS"
		replace `newvar' = "Montana" if `var' == "MT"
		replace `newvar' = "North Carolina" if `var' == "NC"
		replace `newvar' = "North Dakota" if `var' == "ND"
		replace `newvar' = "Nebraska" if `var' == "NE"
		replace `newvar' = "New Hampshire" if `var' == "NH"
		replace `newvar' = "New Jersey" if `var' == "NJ"
		replace `newvar' = "New Mexico" if `var' == "NM"
		replace `newvar' = "Nevada" if `var' == "NV"
		replace `newvar' = "New York" if `var' == "NY"
		replace `newvar' = "Ohio" if `var' == "OH"
		replace `newvar' = "Oklahoma" if `var' == "OK"
		replace `newvar' = "Oregon" if `var' == "OR"
		replace `newvar' = "Pennsylvania" if `var' == "PA"
		replace `newvar' = "Rhode Island" if `var' == "RI"
		replace `newvar' = "South Carolina" if `var' == "SC"
		replace `newvar' = "South Dakota" if `var' == "SD"
		replace `newvar' = "Tennessee" if `var' == "TN"
		replace `newvar' = "Texas" if `var' == "TX"
		replace `newvar' = "Utah" if `var' == "UT"
		replace `newvar' = "Virginia" if `var' == "VA"
		replace `newvar' = "Vermont" if `var' == "VT"
		replace `newvar' = "Washington" if `var' == "WA"
		replace `newvar' = "Wisconsin" if `var' == "WI"
		replace `newvar' = "West Virginia" if `var' == "WV"
		replace `newvar' = "Wyoming" if `var' == "WV"
	}


	if "`type'" == "full"{
		local var `newvar'
	}

	gen `newvar'_num = .

	replace `newvar'_num = 1 if `var' == "AK"
	replace `newvar'_num = 2 if `var' == "AL"
	replace `newvar'_num = 3 if `var' == "AR"
	replace `newvar'_num = 4 if `var' == "AZ"
	replace `newvar'_num = 5 if `var' == "CA"
	replace `newvar'_num = 6 if `var' == "CO"
	replace `newvar'_num = 7 if `var' == "CT"
	replace `newvar'_num = 8 if `var' == "DC"
	replace `newvar'_num = 9 if `var' == "DE"
	replace `newvar'_num = 10 if `var' == "FL"
	replace `newvar'_num = 11 if `var' == "GA"
	replace `newvar'_num = 12 if `var' == "HI"
	replace `newvar'_num = 13 if `var' == "IA"
	replace `newvar'_num = 14 if `var' == "ID"
	replace `newvar'_num = 15 if `var' == "IL"
	replace `newvar'_num = 16 if `var' == "IN"
	replace `newvar'_num = 17 if `var' == "KS"
	replace `newvar'_num = 18 if `var' == "KY"
	replace `newvar'_num = 19 if `var' == "LA"
	replace `newvar'_num = 20 if `var' == "MA"
	replace `newvar'_num = 21 if `var' == "MD"
	replace `newvar'_num = 22 if `var' == "ME"
	replace `newvar'_num = 23 if `var' == "MI"
	replace `newvar'_num = 24 if `var' == "MN"
	replace `newvar'_num = 25 if `var' == "MO"
	replace `newvar'_num = 26 if `var' == "MS"
	replace `newvar'_num = 27 if `var' == "MT"
	replace `newvar'_num = 28 if `var' == "NC"
	replace `newvar'_num = 29 if `var' == "ND"
	replace `newvar'_num = 30 if `var' == "NE"
	replace `newvar'_num = 31 if `var' == "NH"
	replace `newvar'_num = 32 if `var' == "NJ"
	replace `newvar'_num = 33 if `var' == "NM"
	replace `newvar'_num = 34 if `var' == "NV"
	replace `newvar'_num = 35 if `var' == "NY"
	replace `newvar'_num = 36 if `var' == "OH"
	replace `newvar'_num = 37 if `var' == "OK"
	replace `newvar'_num = 38 if `var' == "OR"
	replace `newvar'_num = 39 if `var' == "PA"
	replace `newvar'_num = 40 if `var' == "RI"
	replace `newvar'_num = 41 if `var' == "SC"
	replace `newvar'_num = 42 if `var' == "SD"
	replace `newvar'_num = 43 if `var' == "TN"
	replace `newvar'_num = 44 if `var' == "TX"
	replace `newvar'_num = 45 if `var' == "UT"
	replace `newvar'_num = 46 if `var' == "VA"
	replace `newvar'_num = 47 if `var' == "VT"
	replace `newvar'_num = 48 if `var' == "WA"
	replace `newvar'_num = 49 if `var' == "WI"
	replace `newvar'_num = 50 if `var' == "WV"
	replace `newvar'_num = 51 if `var' == "WY"

end
